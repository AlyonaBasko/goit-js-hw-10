{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst inputDatePicker = document.getElementById(\"datetime-picker\");\nconst startButton = document.querySelector('[data-start]');\nconst daysElement = document.querySelector('[data-days]');\nconst hoursElement = document.querySelector('[data-hours]');\nconst minutesElement = document.querySelector('[data-minutes]');\nconst secondsElement = document.querySelector('[data-seconds]');\n\nlet buttonClicked = false;\nstartButton.addEventListener('click', handleStartButtonClick);\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    console.log(selectedDates[0]);\n    if (buttonClicked) {\n      currentDifferenceDate(selectedDates[0]);\n    }\n  },\n};\n\nconst datetimePicker = flatpickr(inputDatePicker, options);\n\nfunction handleStartButtonClick() {\n  const selectedDate = datetimePicker.selectedDates[0];\n  currentDifferenceDate(selectedDate);\n  buttonClicked = true;\n}\n\nfunction currentDifferenceDate(selectedDate) {\n  const currentDate = Date.now();\n  startButton.disabled = selectedDate < currentDate;\n  if (selectedDate < currentDate) {\n    iziToast.error({message: 'Please choose a date in the future',\n    position: 'topRight'});\n  } else {\n    inputDatePicker.disabled = true;\n    startTimer(selectedDate - currentDate);\n  }\n}\n\nfunction startTimer(duration) {\n  let timer = duration / 1000;\n  const intervalId = setInterval(function () {\n    const days = Math.floor(timer / (3600 * 24));\n    const hours = Math.floor((timer % (3600 * 24)) / 3600);\n    const minutes = Math.floor((timer % 3600) / 60);\n    const seconds = Math.floor(timer % 60);\n    renderDate(days, hours, minutes, seconds);\n    if (--timer < 0) {\n      clearInterval(intervalId);\n      renderDate(0, 0, 0, 0);\n      iziToast.success({message: 'Countdown finished!'});\n      inputDatePicker.disabled = false;\n    }\n  }, 1000);\n}\n\nfunction renderDate(days, hours, minutes, seconds) {\n  daysElement.textContent = days.toString().padStart(2, '0');\n  hoursElement.textContent = hours.toString().padStart(2, '0');\n  minutesElement.textContent = minutes.toString().padStart(2, '0');\n  secondsElement.textContent = seconds.toString().padStart(2, '0');\n} "],"names":["inputDatePicker","startButton","daysElement","hoursElement","minutesElement","secondsElement","buttonClicked","handleStartButtonClick","options","selectedDates","currentDifferenceDate","datetimePicker","flatpickr","selectedDate","currentDate","iziToast","startTimer","duration","timer","intervalId","days","hours","minutes","seconds","renderDate"],"mappings":"sGAKA,MAAMA,EAAkB,SAAS,eAAe,iBAAiB,EAC3DC,EAAc,SAAS,cAAc,cAAc,EACnDC,EAAc,SAAS,cAAc,aAAa,EAClDC,EAAe,SAAS,cAAc,cAAc,EACpDC,EAAiB,SAAS,cAAc,gBAAgB,EACxDC,EAAiB,SAAS,cAAc,gBAAgB,EAE9D,IAAIC,EAAgB,GACpBL,EAAY,iBAAiB,QAASM,CAAsB,EAE5D,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrB,QAAQ,IAAIA,EAAc,CAAC,CAAC,EACxBH,GACFI,EAAsBD,EAAc,CAAC,CAAC,CAEzC,CACH,EAEME,EAAiBC,EAAUZ,EAAiBQ,CAAO,EAEzD,SAASD,GAAyB,CAChC,MAAMM,EAAeF,EAAe,cAAc,CAAC,EACnDD,EAAsBG,CAAY,EAClCP,EAAgB,EAClB,CAEA,SAASI,EAAsBG,EAAc,CAC3C,MAAMC,EAAc,KAAK,MACzBb,EAAY,SAAWY,EAAeC,EAClCD,EAAeC,EACjBC,EAAS,MAAM,CAAC,QAAS,qCACzB,SAAU,UAAU,CAAC,GAErBf,EAAgB,SAAW,GAC3BgB,EAAWH,EAAeC,CAAW,EAEzC,CAEA,SAASE,EAAWC,EAAU,CAC5B,IAAIC,EAAQD,EAAW,IACvB,MAAME,EAAa,YAAY,UAAY,CACzC,MAAMC,EAAO,KAAK,MAAMF,EAAS,KAAU,EACrCG,EAAQ,KAAK,MAAOH,GAAS,KAAO,IAAO,IAAI,EAC/CI,EAAU,KAAK,MAAOJ,EAAQ,KAAQ,EAAE,EACxCK,EAAU,KAAK,MAAML,EAAQ,EAAE,EACrCM,EAAWJ,EAAMC,EAAOC,EAASC,CAAO,EACpC,EAAEL,EAAQ,IACZ,cAAcC,CAAU,EACxBK,EAAW,EAAG,EAAG,EAAG,CAAC,EACrBT,EAAS,QAAQ,CAAC,QAAS,qBAAqB,CAAC,EACjDf,EAAgB,SAAW,GAE9B,EAAE,GAAI,CACT,CAEA,SAASwB,EAAWJ,EAAMC,EAAOC,EAASC,EAAS,CACjDrB,EAAY,YAAckB,EAAK,SAAU,EAAC,SAAS,EAAG,GAAG,EACzDjB,EAAa,YAAckB,EAAM,SAAU,EAAC,SAAS,EAAG,GAAG,EAC3DjB,EAAe,YAAckB,EAAQ,SAAU,EAAC,SAAS,EAAG,GAAG,EAC/DjB,EAAe,YAAckB,EAAQ,SAAU,EAAC,SAAS,EAAG,GAAG,CACjE"}