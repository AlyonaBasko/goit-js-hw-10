{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst inputDatePicker = document.getElementById(\"datetime-picker\");\nconst startButton = document.querySelector('[data-start]');\nconst daysElement = document.querySelector('[data-days]');\nconst hoursElement = document.querySelector('[data-hours]');\nconst minutesElement = document.querySelector('[data-minutes]');\nconst secondsElement = document.querySelector('[data-seconds]');\n\nlet timerInterval; \nstartButton.disabled = true;\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    console.log(selectedDates[0]);\n    currentDifferenceDate(selectedDates[0]);\n  },\n};\n\nconst datetimePicker = flatpickr(inputDatePicker, options);\n\nfunction handleStartButtonClick() {\n  const selectedDate = datetimePicker.selectedDates[0];\n  if (!selectedDate || selectedDate < Date.now()) {\n    iziToast.error({ message: 'Please choose a future date', position: 'topRight' });\n    return;\n  }\n  inputDatePicker.disabled = true;\n  startButton.disabled = true;\n  startTimer(selectedDate - Date.now());\n}\n\nfunction currentDifferenceDate(selectedDate) {\n  if (!selectedDate || selectedDate < Date.now()) {\n    startButton.disabled = true;\n  } else {\n    startButton.disabled = false;\n  }\n}\n\nfunction startTimer(duration) {\n  clearInterval(timerInterval);\n  let timer = duration / 1000;\n  const intervalId = setInterval(function () {\n    const days = Math.floor(timer / (3600 * 24));\n    const hours = Math.floor((timer % (3600 * 24)) / 3600);\n    const minutes = Math.floor((timer % 3600) / 60);\n    const seconds = Math.floor(timer % 60);\n    renderDate(days, hours, minutes, seconds);\n    if (--timer < 0) {\n      clearInterval(intervalId);\n      renderDate(0, 0, 0, 0);\n      iziToast.success({message: 'Countdown finished!'});\n      inputDatePicker.disabled = false;\n      startButton.disabled = true;\n    }\n  }, 1000);\n}\n\nfunction renderDate(days, hours, minutes, seconds) {\n  daysElement.textContent = days.toString().padStart(2, '0');\n  hoursElement.textContent = hours.toString().padStart(2, '0');\n  minutesElement.textContent = minutes.toString().padStart(2, '0');\n  secondsElement.textContent = seconds.toString().padStart(2, '0');\n} \n\nstartButton.addEventListener('click', handleStartButtonClick);"],"names":["inputDatePicker","startButton","daysElement","hoursElement","minutesElement","secondsElement","timerInterval","options","selectedDates","currentDifferenceDate","datetimePicker","flatpickr","handleStartButtonClick","selectedDate","iziToast","startTimer","duration","timer","intervalId","days","hours","minutes","seconds","renderDate"],"mappings":"sGAKA,MAAMA,EAAkB,SAAS,eAAe,iBAAiB,EAC3DC,EAAc,SAAS,cAAc,cAAc,EACnDC,EAAc,SAAS,cAAc,aAAa,EAClDC,EAAe,SAAS,cAAc,cAAc,EACpDC,EAAiB,SAAS,cAAc,gBAAgB,EACxDC,EAAiB,SAAS,cAAc,gBAAgB,EAE9D,IAAIC,EACJL,EAAY,SAAW,GAEvB,MAAMM,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrB,QAAQ,IAAIA,EAAc,CAAC,CAAC,EAC5BC,EAAsBD,EAAc,CAAC,CAAC,CACvC,CACH,EAEME,EAAiBC,EAAUX,EAAiBO,CAAO,EAEzD,SAASK,GAAyB,CAChC,MAAMC,EAAeH,EAAe,cAAc,CAAC,EACnD,GAAI,CAACG,GAAgBA,EAAe,KAAK,IAAG,EAAI,CAC9CC,EAAS,MAAM,CAAE,QAAS,8BAA+B,SAAU,UAAU,CAAE,EAC/E,MACD,CACDd,EAAgB,SAAW,GAC3BC,EAAY,SAAW,GACvBc,EAAWF,EAAe,KAAK,IAAK,CAAA,CACtC,CAEA,SAASJ,EAAsBI,EAAc,CACvC,CAACA,GAAgBA,EAAe,KAAK,IAAG,EAC1CZ,EAAY,SAAW,GAEvBA,EAAY,SAAW,EAE3B,CAEA,SAASc,EAAWC,EAAU,CAC5B,cAAcV,CAAa,EAC3B,IAAIW,EAAQD,EAAW,IACvB,MAAME,EAAa,YAAY,UAAY,CACzC,MAAMC,EAAO,KAAK,MAAMF,EAAS,KAAU,EACrCG,EAAQ,KAAK,MAAOH,GAAS,KAAO,IAAO,IAAI,EAC/CI,EAAU,KAAK,MAAOJ,EAAQ,KAAQ,EAAE,EACxCK,EAAU,KAAK,MAAML,EAAQ,EAAE,EACrCM,EAAWJ,EAAMC,EAAOC,EAASC,CAAO,EACpC,EAAEL,EAAQ,IACZ,cAAcC,CAAU,EACxBK,EAAW,EAAG,EAAG,EAAG,CAAC,EACrBT,EAAS,QAAQ,CAAC,QAAS,qBAAqB,CAAC,EACjDd,EAAgB,SAAW,GAC3BC,EAAY,SAAW,GAE1B,EAAE,GAAI,CACT,CAEA,SAASsB,EAAWJ,EAAMC,EAAOC,EAASC,EAAS,CACjDpB,EAAY,YAAciB,EAAK,SAAU,EAAC,SAAS,EAAG,GAAG,EACzDhB,EAAa,YAAciB,EAAM,SAAU,EAAC,SAAS,EAAG,GAAG,EAC3DhB,EAAe,YAAciB,EAAQ,SAAU,EAAC,SAAS,EAAG,GAAG,EAC/DhB,EAAe,YAAciB,EAAQ,SAAU,EAAC,SAAS,EAAG,GAAG,CACjE,CAEArB,EAAY,iBAAiB,QAASW,CAAsB"}